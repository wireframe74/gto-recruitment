/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.3
 *
 */
(function($) {
    $.fn.extend({ slimScroll: function (e) { var i = { width: "auto", height: "250px", size: "7px", color: "#000", position: "right", distance: "1px", start: "top", opacity: .4, alwaysVisible: !1, disableFadeOut: !1, railVisible: !1, railColor: "#333", railOpacity: .2, railDraggable: !0, railClass: "slimScrollRail", barClass: "slimScrollBar", wrapperClass: "slimScrollDiv", allowPageScroll: !1, wheelStep: 20, touchScrollStep: 200, borderRadius: "7px", railBorderRadius: "7px" }, o = $.extend(i, e); return this.each(function () { function i(e) { if (n) { var t = 0; (e = e || window.event).wheelDelta && (t = -e.wheelDelta / 120), e.detail && (t = e.detail / 3); var i = e.target || e.srcTarget || e.srcElement; $(i).closest("." + o.wrapperClass).is(m.parent()) && s(t, !0), e.preventDefault && !w && e.preventDefault(), w || (e.returnValue = !1) } } function s(e, t, i) { w = !1; var s = e, a = m.outerHeight() - S.outerHeight(); if (t && (s = parseInt(S.css("top"), 10) + e * parseInt(o.wheelStep) / 100 * S.outerHeight(), s = Math.min(Math.max(s, 0), a), s = e > 0 ? Math.ceil(s) : Math.floor(s), S.css({ top: s + "px" })), g = parseInt(S.css("top")) / (m.outerHeight() - S.outerHeight()), s = g * (m[0].scrollHeight - m.outerHeight()), i) { var n = (s = e) / m[0].scrollHeight * m.outerHeight(); n = Math.min(Math.max(n, 0), a), S.css({ top: n + "px" }) } m.scrollTop(s), m.trigger("slimscrolling", ~~s), r(), l() } function a() { d = Math.max(m.outerHeight() / m[0].scrollHeight * m.outerHeight(), b), S.css({ height: d + "px" }); var e = d == m.outerHeight() ? "none" : "block"; S.css({ display: e }) } function r() { if (a(), clearTimeout(u), g == ~~g) { if (w = o.allowPageScroll, f != g) { var e = 0 == ~~g ? "top" : "bottom"; m.trigger("slimscroll", e) } } else w = !1; f = g, d >= m.outerHeight() ? w = !0 : (S.stop(!0, !0).fadeIn("fast"), o.railVisible && H.stop(!0, !0).fadeIn("fast")) } function l() { o.alwaysVisible || (u = setTimeout(function () { o.disableFadeOut && n || c || h || (S.fadeOut("slow"), H.fadeOut("slow")) }, 1e3)) } var n, c, h, u, p, d, g, f, v = "<div></div>", b = 30, w = !1, m = $(this); if (m.parent().hasClass(o.wrapperClass)) { var y = m.scrollTop(); if (S = m.parent().find("." + o.barClass), H = m.parent().find("." + o.railClass), a(), $.isPlainObject(e)) { if ("height" in e && "auto" == e.height) { m.parent().css("height", "auto"), m.css("height", "auto"); var x = m.parent().parent().height(); m.parent().css("height", x), m.css("height", x) } if ("scrollTo" in e) y = parseInt(o.scrollTo); else if ("scrollBy" in e) y += parseInt(o.scrollBy); else if ("destroy" in e) return S.remove(), H.remove(), void m.unwrap(); s(y, !1, !0) } } else if (!($.isPlainObject(e) && "destroy" in e)) { o.height = "auto" == o.height ? m.parent().height() : o.height; var C = $(v).addClass(o.wrapperClass).css({ position: "relative", overflow: "hidden", width: o.width, height: o.height }); m.css({ overflow: "hidden", width: o.width, height: o.height }); var H = $(v).addClass(o.railClass).css({ width: o.size, height: "100%", position: "absolute", top: 0, display: o.alwaysVisible && o.railVisible ? "block" : "none", "border-radius": o.railBorderRadius, background: o.railColor, opacity: o.railOpacity, zIndex: 90 }), S = $(v).addClass(o.barClass).css({ background: o.color, width: o.size, position: "absolute", top: 0, opacity: o.opacity, display: o.alwaysVisible ? "block" : "none", "border-radius": o.borderRadius, BorderRadius: o.borderRadius, MozBorderRadius: o.borderRadius, WebkitBorderRadius: o.borderRadius, zIndex: 99 }), E = "right" == o.position ? { right: o.distance } : { left: o.distance }; H.css(E), S.css(E), m.wrap(C), m.parent().append(S), m.parent().append(H), o.railDraggable && S.bind("mousedown", function (e) { var i = $(document); return h = !0, t = parseFloat(S.css("top")), pageY = e.pageY, i.bind("mousemove.slimscroll", function (e) { currTop = t + e.pageY - pageY, S.css("top", currTop), s(0, S.position().top, !1) }), i.bind("mouseup.slimscroll", function (e) { h = !1, l(), i.unbind(".slimscroll") }), !1 }).bind("selectstart.slimscroll", function (e) { return e.stopPropagation(), e.preventDefault(), !1 }), H.hover(function () { r() }, function () { l() }), S.hover(function () { c = !0 }, function () { c = !1 }), m.hover(function () { n = !0, r(), l() }, function () { n = !1, l() }), m.bind("touchstart", function (e, t) { e.originalEvent.touches.length && (p = e.originalEvent.touches[0].pageY) }), m.bind("touchmove", function (e) { w || e.originalEvent.preventDefault(), e.originalEvent.touches.length && (s((p - e.originalEvent.touches[0].pageY) / o.touchScrollStep, !0), p = e.originalEvent.touches[0].pageY) }), a(), "bottom" === o.start ? (S.css({ top: m.outerHeight() - S.outerHeight() }), s(0, !0)) : "top" !== o.start && (s($(o.start).position().top, null, !0), o.alwaysVisible || S.hide()), function () { window.addEventListener ? (this.addEventListener("DOMMouseScroll", i, !1), this.addEventListener("mousewheel", i, !1)) : document.attachEvent("onmousewheel", i) }() } }), this } }), $.fn.extend({ slimscroll: $.fn.slimScroll });
})(jQuery);




